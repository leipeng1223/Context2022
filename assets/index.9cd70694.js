var at=Object.defineProperty,rt=Object.defineProperties;var it=Object.getOwnPropertyDescriptors;var K=Object.getOwnPropertySymbols;var st=Object.prototype.hasOwnProperty,nt=Object.prototype.propertyIsEnumerable;var W=(e,t,a)=>t in e?at(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,D=(e,t)=>{for(var a in t||(t={}))st.call(t,a)&&W(e,a,t[a]);if(K)for(var a of K(t))nt.call(t,a)&&W(e,a,t[a]);return e},B=(e,t)=>rt(e,it(t));import{m as O,s as m,a as f,l as x,b as E,d as J,o as w,c as P,e as z,S as U,P as X,f as T,g as ot,h as lt,r as C,i as y,j as p,w as _,F as R,k as S,p as ct,n as dt,q as H,t as V,u as ut,v as ht,x as A,R as pt,y as mt,z as Q,A as gt,B as F,C as _t,D as ft}from"./vendor.bc717c53.js";const vt=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function a(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=a(r);fetch(r.href,i)}};vt();var N=(e,t)=>{const a=e.__vccOpts||e;for(const[s,r]of t)a[s]=r;return a};const yt={name:"Timeline",props:["brushedINFO"],data(){return{}},computed:B(D({},O(["timeline"])),{height(){return parseFloat(window.getComputedStyle(document.getElementById("timeline")).height)},width(){return parseFloat(window.getComputedStyle(document.getElementById("timeline")).width)}}),watch:{timeline(){this.drawTimeline()},brushedINFO(){m(".timepoint").transition(1e3).attr("r",.08*this.height).attr("fill",e=>e.BallPossession==1?"steelblue":"crimson"),this.brushedINFO!=="reset"&&m(".timepoint").filter(e=>this.brushedINFO.pass_id.includes(e.Pass_ID)).transition(1e3).attr("r",.15*this.height).attr("fill","orange")}},methods:{drawTimeline(){let e=this.timeline,t=this.width,a=this.height,s={right:.02*t,left:.02*t},r=.2*a,i=.05*t,c=f("#timeline").append("svg").attr("id","svg_timeline").attr("width",t).attr("height",a),d=x().domain([0,6450]).range([0,10*t]),n=x().domain([i/2,t-i/2]).range([0,9.1*t]),h=c.append("g").attr("id","group");h.append("g").attr("transform",`translate(${s.left}, ${.4*a})`).call(E(d).ticks(200).tickFormat(g=>Math.round(g/60)+"min"+Math.round(g%60)+"s"));let v=h.append("g").selectAll("circle").data(e).join("circle").attr("class","timepoint").attr("r",.08*a).attr("cx",g=>d(g.time_past)+s.left).attr("cy",g=>g.BallPossession==1?.2*a:.6*a).attr("fill",g=>g.BallPossession==1?"steelblue":"crimson").attr("stroke","white");c.append("rect").attr("id","progressBar").attr("height",r).attr("width",t).attr("fill","white").attr("opacity",.5).attr("transform",`translate(0,${a*.8})`),c.append("rect").attr("id","progressRect").attr("height",r).attr("width",i).attr("fill","white").attr("opacity",.8).attr("transform",`translate(0,${a*.8})`).call(I());function I(){function g(){f(this).raise().attr("stroke","#78B6DA")}function $(o){o.x<=t-i/2&&o.x>=i/2&&(f(this).attr("x",o.x-i/2),h.attr("transform",`translate(${-n(o.x)},0)`))}function j(){f(this).attr("stroke",null)}return J().on("start",g).on("drag",$).on("end",j)}let b=f("body").append("div").attr("class","tooltip").style("opacity",0);v.on("mouseover",function(g,$){b.transition().duration(200).style("opacity",.9),b.html("<p><b>Pass Event</b></p><table><tbody><tr><td class='wide'>ID:</td><td>"+$.Pass_ID+"</td></tr><tr><td>Time:</td><td>"+Math.round($.time_past/60)+"min"+Math.round($.time_past%60)+"s</td></tr></tbody></table>").style("left",g.pageX+15+"px").style("top",g.pageY-28+"px")}).on("mouseout",function(){b.transition().duration(500).style("opacity",0)})}}},bt={id:"timeline"};function wt(e,t,a,s,r,i){return w(),P("div",bt)}var xt=N(yt,[["render",wt]]);const Ct={name:"Context",emits:["contextBrushed","reClustered","colorByDimension"],data(){return{k:6,colorBy:"",have_legend:0,colorMap:z().domain([0,1,2,3,4,5,6,7,8,9,10]).range(U)}},computed:B(D({},O(["dataset","datasetName","cluster","dimensions","defaultM","rectNumber","tickDomain"])),{height(){return parseFloat(window.getComputedStyle(document.getElementById("context")).height)},width(){return parseFloat(window.getComputedStyle(document.getElementById("context")).width)},colorOp(){let e=[];return this.dimensions.forEach(t=>{e.push({value:t,option:t})}),e}}),watch:{dataset(){this.drawContext(this.dataset,this.k,this.defaultM)},colorBy(){this.colorBy!==""&&(m(".rects").attr("fill",e=>X(e[this.colorBy])),this.have_legend==0&&(this.have_legend=1,this.drawLegend())),this.$emit("colorByDimension",this.colorBy)}},methods:{drawContext(e,t,a){m(".svg_context").remove();const s=this;let r;this.tickDomain>10?r=e.filter(o=>o.Y%5==0):r=e;let i=this.width,c=this.height,d={top:.07*c,right:.03*i,bottom:.05*c,left:.06*i},n=this.tickDomain,h=f("#context").append("svg").attr("class","svg_context").attr("width",i).attr("height",c).append("g").attr("class","brush_on_clusters"),v=x().domain([-n,n]).range([c/t/1.8,0]).nice(),I=x().domain([0,a]).range([0,i-d.left-d.right]);h.append("g").selectAll("circle").data(Array.from(Array(this.k),(o,u)=>u)).enter().append("circle").attr("class","legend_circles").attr("cx",d.left/2).attr("cy",o=>d.top+c/t/1.8/2+1.6*o*c/1.8/t).attr("r",9).attr("fill",o=>this.colorMap(o)).attr("stroke","white").attr("stroke-width",3),h.append("g").selectAll().data(Array.from(Array(this.k),(o,u)=>u)).enter().append("text").attr("x",d.left/2).attr("y",o=>d.top+c/t/1.8/2+1.6*o*c/1.8/t).style("fill","black").text(o=>o+1).attr("text-anchor","middle").attr("font-size",10).attr("font-weight",600).style("alignment-baseline","middle");for(let o=0;o<t;o++)h.append("g").attr("class","removable").attr("transform",`translate( ${d.left},
              ${d.top+c/1.8/t+1.6*o*c/t/1.8})`).call(E(I).ticks(10)).select(".domain").remove(),h.append("g").attr("class","removable").attr("transform",`translate( ${d.left},
              ${d.top+1.6*o*c/1.8/t})`).call(T(v).tickSize(-i+d.right+d.left).ticks(3).tickValues([-n,0,n])).select(".domain").remove();h.selectAll(".tick line").attr("stroke","");let b=h.append("g").selectAll("rect").data(r).enter().append("rect").attr("class","removable rects").attr("width",i/a).attr("height",c/t/1.6/this.rectNumber).attr("x",function(o){return I(o.order)+d.left}).attr("y",function(o){return v(o.Y)+1.6*c/1.8/t*o.k+d.top}).attr("fill",function(o){return o.color_tsne_5000}),g=ot().on("start",$).on("end",j);function $(){b.attr("opacity",1)}function j({selection:o}){if(o){let u=[],l=[];const[[L,Y],[tt,et]]=o;let q=b.filter(function(){let M=f(this).attr("y"),G=f(this).attr("x");return L<=G&&G<tt&&Y<=M&&M<et});b.attr("opacity","0.3"),q.attr("opacity","1"),q.data().forEach(function(M){u.push(M.id),l.includes(M.Pass_ID)||l.push(M.Pass_ID)}),s.$emit("contextBrushed",{pass_id:l,id:u})}else s.$emit("contextBrushed","reset"),m(".dots").attr("fill",u=>u.color_tsne_5000)}h.call(g)},reCluster(){lt.post("http://localhost:5000/clustering",{k:this.k,datasetName:this.datasetName}).then(e=>{f(".svg_cluster").remove(),this.$emit("reClustered",[e.data,this.k]),this.drawContext(e.data.result,this.k,e.data.m)}).catch(function(e){console.log(e)})},resetColor(){m(".rects").attr("fill",e=>e.color_tsne_5000),this.colorBy="",this.have_legend=0,f(".svg_legend_c").remove()},drawLegend(){let e=this.width*.1,t=this.height,a={top:.05*t,left:.5*e},s=100,r=Array.from(Array(100),(d,n)=>n/100),i=f("#legend").append("svg").attr("class","svg_legend_c").attr("width",this.width*.1).attr("height",this.height).append("g"),c=x().domain([0,1]).range([t/3,0]);i.append("g").attr("transform",`translate(${a.left},${a.top})`).call(T(c).ticks(10)),i.selectAll("rect").data(r).enter().append("rect").attr("class","legend_rects").attr("width",15).attr("height",t/3/s+.5).attr("x",a.left).attr("y",d=>d*t/3+a.top).attr("fill",d=>X(d))},legendCircles(e){m(".legend_circles").remove(),f("#legendCircleGroup").selectAll("circle").data(Array.from(Array(this.k),(t,a)=>a)).enter().append("circle").attr("class","legend_circles").attr("cx",margin.left/2).attr("cy",t=>margin.top+height/k/1.8/2+1.6*t*height/1.8/k).attr("r",5).attr("fill",t=>e(t))}}},Z=e=>(ct("data-v-7e7d0696"),e=e(),dt(),e),Ft={id:"control"},$t=S(" Number of clusters: "),Pt=S("Re-cluster"),kt=S(" Color by:"),It=S("Reset"),jt=Z(()=>y("div",{id:"context"},null,-1)),Dt=Z(()=>y("div",{id:"legend"},null,-1));function Bt(e,t,a,s,r,i){const c=C("el-input-number"),d=C("el-button"),n=C("el-option"),h=C("el-select");return w(),P(R,null,[y("div",Ft,[$t,p(c,{modelValue:r.k,"onUpdate:modelValue":t[0]||(t[0]=v=>r.k=v),size:"mini",min:3,max:10},null,8,["modelValue"]),p(d,{size:"mini",onClick:i.reCluster},{default:_(()=>[Pt]),_:1},8,["onClick"]),kt,p(h,{modelValue:r.colorBy,"onUpdate:modelValue":t[1]||(t[1]=v=>r.colorBy=v),placeholder:"Select",size:"mini",id:"contextColorSelect"},{default:_(()=>[(w(!0),P(R,null,H(i.colorOp,v=>(w(),V(n,{key:v.value,label:v.label,value:v.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),p(d,{size:"mini",onClick:i.resetColor},{default:_(()=>[It]),_:1},8,["onClick"])]),jt,Dt],64)}var Nt=N(Ct,[["render",Bt],["__scopeId","data-v-7e7d0696"]]);const Ot={name:"Histogram",data(){return{}},computed:B(D({},O(["timeline"])),{height(){return parseFloat(window.getComputedStyle(document.getElementById("histogram")).height)},width(){return parseFloat(window.getComputedStyle(document.getElementById("histogram")).width)}}),watch:{timeline(){this.drawHistogram()}},methods:{drawHistogram(){let e=this.timeline,t=this.width,a=this.height,s={right:.02*t,left:.02*t,top:.02*a,bottom:.02*a},r=x().domain([0,6400]).rangeRound([0,t-s.left-s.right]),i=x().domain([0,30]).range([a/2,0]),c=x().domain([30,0]).range([a,a/2]),d=100,h=f("#histogram").append("svg").attr("width",t).attr("height",a).append("g").attr("transform","translate("+s.left+","+s.top+")"),v=[];for(let o=1;o<=d;o++)v.push(6400/d*o);let I=[],b=[],g=0,$=0,j=0;e.forEach(function(o){o.time_past<v[j]?o.BallPossession==1?g++:$++:(I.push(g),b.push($),g=0,$=0,j++)}),h.append("g").selectAll("rect").data(I).enter().append("rect").attr("transform",function(o,u){return"translate("+r(6400/d*u)+","+i(o)+")"}).attr("width",function(){return t/d}).attr("height",function(o){return a/2-i(o)}).attr("fill","steelblue"),h.append("g").selectAll("rect").data(b).enter().append("rect").attr("transform",function(o,u){return"translate("+r(6400/d*u)+","+a/2+")"}).attr("width",function(){return t/d}).attr("height",function(o){return c(o)-a/2}).attr("fill","Crimson"),h.append("g").attr("transform","translate(0,"+a/2+")").call(E(r).tickFormat(o=>Math.round(o/60)+"min"+Math.round(o%60)+"s"))}}},Rt={id:"histogram"};function St(e,t,a,s,r,i){return w(),P("div",Rt)}var At=N(Ot,[["render",St]]);const Mt={name:"Space",props:["brushedINFO"],data(){return{}},computed:B(D({},O(["dataset"])),{height(){return parseFloat(window.getComputedStyle(document.getElementById("space")).height)},width(){return parseFloat(window.getComputedStyle(document.getElementById("space")).width)},margin(){return{top:.05*this.width,left:.05*this.width}},x(){return x().domain([0,1]).range([0,this.width-2*this.margin.top])},y(){return x().domain([0,1]).range([0,this.height-2*this.margin.top])}}),mounted(){this.drawSpace()},watch:{brushedINFO(){if(f(".track").remove(),this.brushedINFO!=="reset"){let e=this.dataset.filter(t=>this.brushedINFO.pass_id.includes(t.Pass_ID));f(".svg_space").append("g").attr("class","track").selectAll("circle").data(e).enter().append("circle").attr("cx",t=>this.x(parseFloat(t["left-right"]))+this.margin.left).attr("cy",t=>this.y(parseFloat(t["back-front"]))+this.margin.top).attr("r",t=>(parseFloat(t.Y)+26)/50*this.height*.005).attr("fill",t=>t.color_tsne_5000)}}},methods:{drawSpace(){let e=this.width,t=this.height,a=this.margin,s=f("#space").append("svg").attr("class","svg_space").attr("width",e).attr("height",t),r=this.y,i=this.x;s.append("g").attr("transform","translate("+a.left+","+.5*t+")").call(ut(i).ticks(10)),s.append("g").attr("transform","translate("+.5*e+","+a.top+")").call(ht(r).ticks(10))}}},Et={id:"space"};function Tt(e,t,a,s,r,i){return w(),P("div",Et)}var Lt=N(Mt,[["render",Tt]]);const Vt={name:"Parallel",props:["brushedINFO","colorBy","clusterShow","clusterResult","colorByDimension"],data(){return{colorMap:z().domain([0,1,2,3,4,5,6,7,8,9,10]).range(U)}},computed:B(D({},O(["dataset","dimensions"])),{height(){return parseFloat(window.getComputedStyle(document.getElementById("parallel")).height)},width(){return parseFloat(window.getComputedStyle(document.getElementById("parallel")).width)},lenCont(){return A(this.dataset.map(e=>parseFloat(e.Y)))}}),watch:{dataset(){this.drawParallel()},brushedINFO(){m(".lines").attr("visibility","visible"),this.brushedINFO!=="reset"&&(m(".lines").attr("visibility","hidden"),m(".lines").filter(e=>this.brushedINFO.id.includes(e.id)).attr("visibility","visible"))},colorBy(){this.colorBy=="Time"?m(".lines").attr("stroke",e=>pt((e.Y-this.lenCont[0])/(this.lenCont[1]-this.lenCont[0]))):this.colorBy=="Projection"?m(".lines").attr("stroke",e=>e.color_tsne_5000):m(".lines").attr("stroke",e=>this.colorMap(this.clusterResult.Map[parseInt(e.Pass_ID)]))},clusterShow(){m(".lines").attr("visibility","visible"),this.clusterShow!=="All"&&(m(".lines").attr("visibility","hidden"),m(".lines").filter(e=>this.clusterResult.Map[parseInt(e.Pass_ID)]==this.clusterShow).attr("visibility","visible"))},colorByDimension(){this.colorByDimension!==""?m(".lines").attr("stroke",e=>X(e[this.colorByDimension])):m(".lines").attr("stroke",e=>e.color_tsne_5000)}},methods:{drawParallel(){m(".svg_parallel").remove();let e=this.dataset.filter(u=>u.Y%5==0),t=this.width,a=this.height,s={top:.02*t,right:.03*t,bottom:.02*t,left:.03*t},r=mt(),i={},c={},d=Q(),n=f("body").append("div").attr("class","tooltip").style("opacity",0),h=f("#parallel").append("svg").attr("class","svg_parallel").attr("width",t).attr("height",a).append("g").attr("transform","translate("+s.left+","+s.top+")");function v(u){let l=c[u];return l==null?r(u):l}function I(u){return u.transition().duration(500)}function b(u){return d(g.map(function(l){return[v(l),i[l](u[l])]}))}let g=this.dimensions;r.domain(g).range([0,t-s.left-s.right]),g.forEach(function(u){i[u]=x().domain([0,1]).range([a-s.top-s.bottom,0])});let $=h.append("g").attr("class","removable background").selectAll("path").data(e).enter().append("path").attr("d",b).attr("opacity",.2),j=h.append("g").attr("class","removable foreground").selectAll("path").data(e).enter().append("path").attr("d",b).attr("fill","none").attr("shape-rendering","crispEdges").attr("class","lines").attr("id",u=>u.id).attr("stroke",u=>u.color_tsne_5000).attr("opacity",.5),o=h.selectAll(".dimension").data(g).enter().append("g").attr("class","dimension removable").attr("transform",function(u){return"translate("+r(u)+")"}).call(J().on("start",function(u,l){c[l]=r(l),$.attr("visibility","hidden")}).on("drag",function(u,l){c[l]=Math.min(t,Math.max(0,u.x)),j.attr("d",b),g.sort(function(L,Y){return v(L)-v(Y)}),r.domain(g),o.attr("transform",function(L){return"translate("+v(L)+")"})}).on("end",function(u,l){delete c[l],I(f(this)).attr("transform","translate("+r(l)+")"),I(j).attr("d",b),$.attr("d",b).transition().delay(500).duration(0).attr("visibility","visible")}));o.append("g").attr("class","axis removable").each(function(u){f(this).call(T(i[u]))}),o.append("text").attr("class","removable y_text").attr("x",-.02*t).attr("y",-.03*a).text(function(u){let l=u.split(" ");return l.length>4&&(l=l.slice(0,4),l.push("...")),l.join(" ")}).on("mouseover",function(u,l){n.transition().duration(200).style("opacity",.9),n.html(l).style("left",u.pageX-110+"px").style("top",u.pageY-30+"px")}).on("mouseout",function(){n.transition().duration(500).style("opacity",0)})}}},Ht={id:"parallel"};function Yt(e,t,a,s,r,i){return w(),P("div",Ht)}var zt=N(Vt,[["render",Yt]]);const Ut={name:"DataProjection",props:["brushedINFO"],data(){return{}},computed:B(D({},O(["dataset"])),{height(){return parseFloat(window.getComputedStyle(document.getElementById("dataProjection")).height)},width(){return parseFloat(window.getComputedStyle(document.getElementById("dataProjection")).width)}}),watch:{dataset(){this.drawProjection()},brushedINFO(){m(".dots").attr("visibility","visible"),this.brushedINFO!=="reset"&&(m(".dots").attr("visibility","hidden"),m(".dots").filter(e=>this.brushedINFO.id.includes(e.id)).attr("visibility","visible"))}},methods:{drawProjection(){m(".svg_data_projection").remove();let e=this.dataset.filter(n=>n.Y%5==0),t=this.width,a=this.height,s={right:.05*t,left:.12*t,top:.05*a,bottom:.12*a},i=f("#dataProjection").append("svg").attr("class","svg_data_projection").attr("width",t).attr("height",a).append("g");i.attr("transform","translate("+s.left+","+s.top+")");let c=x().domain(A(e.map(n=>parseFloat(n.tsne_y_5000)))).range([a-s.top-s.bottom,0]),d=x().domain(A(e.map(n=>parseFloat(n.tsne_x_5000)))).range([0,t-s.left-s.right]);i.append("g").attr("transform","translate(0,"+(a-s.top-s.bottom)+")").call(E(d).ticks(10)),i.append("g").call(T(c).ticks(10)),i.append("g").selectAll().data(e).enter().append("circle").attr("class","bg_dots").attr("cx",n=>d(n.tsne_x_5000)).attr("cy",n=>c(n.tsne_y_5000)).attr("r",1.5).attr("fill","lightgrey"),i.append("g").selectAll().data(e).enter().append("circle").attr("class","dots").attr("cx",n=>d(n.tsne_x_5000)).attr("cy",n=>c(n.tsne_y_5000)).attr("r",1.5).attr("fill",n=>n.color_tsne_5000)}}},Xt=y("div",{id:"label"},"Data projection",-1),qt=y("div",{id:"dataProjection"},null,-1);function Gt(e,t,a,s,r,i){return w(),P(R,null,[Xt,qt],64)}var Kt=N(Ut,[["render",Gt]]);const Wt={name:"ContextProjection",props:["brushedINFO","clusterResult"],data(){return{colorMap:z().domain([0,1,2,3,4,5,6,7,8,9,10]).range(U)}},computed:B(D({},O(["contProj"])),{height(){return parseFloat(window.getComputedStyle(document.getElementById("contextProjection")).height)},width(){return parseFloat(window.getComputedStyle(document.getElementById("contextProjection")).width)}}),watch:{contProj(){this.drawProjection()},brushedINFO(){m(".cont_dots").attr("visibility","visible"),this.brushedINFO!=="reset"&&(m(".cont_dots").attr("visibility","hidden"),m(".cont_dots").filter(e=>this.brushedINFO.pass_id.includes(e.Pass_ID)).attr("visibility","visible"))},clusterResult(){m(".cont_dots").attr("fill",e=>this.colorMap(this.clusterResult.Map[parseInt(e.Pass_ID)]))}},methods:{drawProjection(){m(".svg_context_projection").remove();let e=this.contProj,t=this.width,a=this.height,s={right:.05*t,left:.12*t,top:.05*a,bottom:.12*a},i=f("#contextProjection").append("svg").attr("class","svg_context_projection").attr("width",t).attr("height",a).append("g");i.attr("transform","translate("+s.left+","+s.top+")");let c=x().domain(A(e.map(n=>parseFloat(n.y)))).range([a-s.top-s.bottom,0]),d=x().domain(A(e.map(n=>parseFloat(n.x)))).range([0,t-s.left-s.right]);i.append("g").attr("transform","translate(0,"+(a-s.top-s.bottom)+")").call(E(d).ticks(10)),i.append("g").call(T(c).ticks(10)),i.append("g").selectAll().data(e).enter().append("circle").attr("class","bg_cont_dots").attr("cx",n=>d(n.x)).attr("cy",n=>c(n.y)).attr("r",1.5).attr("fill","lightgrey"),i.append("g").selectAll().data(e).enter().append("circle").attr("class","cont_dots").attr("cx",n=>d(n.x)).attr("cy",n=>c(n.y)).attr("r",1.5).attr("fill","crimson")}}},Jt=y("div",{id:"label"},"Context projection",-1),Qt=y("div",{id:"contextProjection"},null,-1);function Zt(e,t,a,s,r,i){return w(),P(R,null,[Jt,Qt],64)}var te=N(Wt,[["render",Zt]]);const ee={name:"Optics",data(){return{}},computed:B(D({},O(["reach"])),{height(){return parseFloat(window.getComputedStyle(document.getElementById("optics")).height)},width(){return parseFloat(window.getComputedStyle(document.getElementById("optics")).width)}}),watch:{reach(){this.drawOptics()}},methods:{drawOptics(){m(".svg_optics").remove();let e=this.reach,t=this.width,a=this.height,s={right:.05*t,left:.05*t,top:.05*a,bottom:.12*a},i=f("#optics").append("svg").attr("class","svg_optics").attr("width",t).attr("height",a).append("g");i.attr("transform","translate("+s.left+","+s.top+")");let c=x().domain(A(e.map(h=>parseFloat(h.reach)))).range([a-s.top-s.bottom,0]),d=x().domain(A(e.map(h=>parseFloat(h.id)))).range([0,t-s.left-s.right]);i.append("g").attr("transform","translate(0,"+(a-s.top-s.bottom)+")").call(E(d).ticks(10)),i.append("g").call(T(c).ticks(10));let n=Q().x(h=>d(parseFloat(h.id))).y(h=>c(parseFloat(h.reach)));i.append("g").append("path").attr("class","reachability").attr("d",n(e)).attr("fill","none").attr("stroke-linecap","round").attr("stroke-linejoin","round").attr("stroke-width",2).attr("stroke","steelblue")}}},ae=y("div",{id:"label"},"Reachability plot",-1),re=y("div",{id:"optics"},null,-1);function ie(e,t,a,s,r,i){return w(),P(R,null,[ae,re],64)}var se=N(ee,[["render",ie]]);const ne={name:"Home",components:{Timeline:xt,Histogram:At,Context:Nt,Space:Lt,Parallel:zt,DataProjection:Kt,ContextProjection:te,Optics:se},data(){return{k:6,brushedINFO:[],clusterResult:[],data:"Football-Right",dataOp:[{value:"Football-Left",label:"Football-Left"},{value:"Football-Right",label:"Football-Right"},{value:"Football-Changed",label:"Football-Changed"},{value:"Driving",label:"Driving"}],colorBy:"Projection",colorOp:[{value:"Projection",label:"Projection"},{value:"Time",label:"Time"},{value:"Cluster",label:"Cluster"}],clusterShow:"All",colorByD:""}},computed:B(D({},O(["dataset","timeline"])),{clusterOp(){let e=[{value:"All",label:"All"}];for(let t=0;t<this.k;t++)e.push({value:t,label:`Cluster ${t+1}`});return e}}),watch:{data(){this.data=="Football-Left"?(this.$store.dispatch("getLeftDataset"),this.$store.dispatch("getLeftReach"),this.$store.dispatch("getLeftContProj")):this.data=="Football-Changed"?(this.$store.dispatch("getChangedDataset"),this.$store.dispatch("getChangedReach"),this.$store.dispatch("getChangedContProj")):this.data=="Driving"?(this.$store.dispatch("getDriverDataset"),this.$store.dispatch("getDriverReach"),this.$store.dispatch("getDriverContProj")):(this.$store.dispatch("getRightDataset"),this.$store.dispatch("getRightReach"),this.$store.dispatch("getRightContProj"))}},mounted(){},created(){this.$store.dispatch("getTimeline"),this.$store.dispatch("getRightDataset"),this.$store.dispatch("getRightReach"),this.$store.dispatch("getRightContProj")},methods:{contextBrushed(e){this.brushedINFO=e},reClustered([e,t]){this.clusterResult=e,this.k=t,this.clusterShow="All"},colorByDimension(e){this.colorByD=e}}},oe={class:"grid-content bg-purple-dark header"},le=S(" Dataset:"),ce={class:"grid-content bg-purple-light histogram-view"},de={class:"grid-content bg-purple-light timeline-view"},ue={class:"grid-content bg-purple-light context-view"},he={class:"grid-content optics-view"},pe={class:"grid-content projection-view"},me={class:"grid-content projection2-view"},ge={class:"grid-content bg-purple-dark control-view"},_e=S(" Color by:"),fe=S("Show: "),ve={class:"grid-content bg-purple-light pcp-view"},ye={class:"grid-content bg-purple space-view"};function be(e,t,a,s,r,i){const c=C("el-option"),d=C("el-select"),n=C("el-col"),h=C("el-row"),v=C("Histogram"),I=C("Timeline"),b=C("Context"),g=C("Optics"),$=C("DataProjection"),j=C("ContextProjection"),o=C("Parallel"),u=C("Space");return w(),P(R,null,[p(h,null,{default:_(()=>[p(n,{span:24},{default:_(()=>[y("div",oe,[le,p(d,{modelValue:r.data,"onUpdate:modelValue":t[0]||(t[0]=l=>r.data=l),placeholder:"Select",size:"mini"},{default:_(()=>[(w(!0),P(R,null,H(r.dataOp,l=>(w(),V(c,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),_:1})]),_:1}),p(h,null,{default:_(()=>[p(n,{span:24},{default:_(()=>[y("div",ce,[p(v)])]),_:1})]),_:1}),p(h,null,{default:_(()=>[p(n,{span:24},{default:_(()=>[y("div",de,[p(I,{brushedINFO:r.brushedINFO},null,8,["brushedINFO"])])]),_:1})]),_:1}),p(h,null,{default:_(()=>[p(n,{span:16},{default:_(()=>[y("div",ue,[p(b,{onContextBrushed:t[1]||(t[1]=l=>i.contextBrushed(l)),onReClustered:t[2]||(t[2]=l=>i.reClustered(l)),onColorByDimension:t[3]||(t[3]=l=>i.colorByDimension(l))})])]),_:1}),p(n,{span:8,id:"clusterHelpers"},{default:_(()=>[p(h,null,{default:_(()=>[p(n,null,{default:_(()=>[y("div",he,[p(g)])]),_:1})]),_:1}),p(h,null,{default:_(()=>[p(n,{span:12},{default:_(()=>[y("div",pe,[p($,{brushedINFO:r.brushedINFO},null,8,["brushedINFO"])])]),_:1}),p(n,{span:12},{default:_(()=>[y("div",me,[p(j,{brushedINFO:r.brushedINFO,clusterResult:r.clusterResult},null,8,["brushedINFO","clusterResult"])])]),_:1})]),_:1})]),_:1})]),_:1}),p(h,null,{default:_(()=>[p(n,{span:24},{default:_(()=>[y("div",ge,[_e,p(d,{modelValue:r.colorBy,"onUpdate:modelValue":t[4]||(t[4]=l=>r.colorBy=l),placeholder:"Select",size:"mini",id:"colorSelect"},{default:_(()=>[(w(!0),P(R,null,H(r.colorOp,l=>(w(),V(c,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),fe,p(d,{modelValue:r.clusterShow,"onUpdate:modelValue":t[5]||(t[5]=l=>r.clusterShow=l),placeholder:"Select",size:"mini"},{default:_(()=>[(w(!0),P(R,null,H(i.clusterOp,l=>(w(),V(c,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),_:1})]),_:1}),p(h,null,{default:_(()=>[p(n,{span:19},{default:_(()=>[y("div",ve,[p(o,{clusterResult:r.clusterResult,brushedINFO:r.brushedINFO,colorBy:r.colorBy,clusterShow:r.clusterShow,colorByDimension:r.colorByD},null,8,["clusterResult","brushedINFO","colorBy","clusterShow","colorByDimension"])])]),_:1}),p(n,{span:5},{default:_(()=>[y("div",ye,[p(u,{brushedINFO:r.brushedINFO},null,8,["brushedINFO"])])]),_:1})]),_:1})],64)}var we=N(ne,[["render",be],["__scopeId","data-v-5d126a42"]]);const xe={name:"App",components:{Home:we}};function Ce(e,t,a,s,r,i){const c=C("Home");return w(),V(c)}var Fe=N(xe,[["render",Ce]]),$e=gt({state:{dataset:[],datasetName:"",dimensions:[],tickDomain:0,rectNumber:0,defaultM:0,timeline:[],cluster:[],reach:[],contProj:[]},getters:{dataset(e){return e.dataset},datasetName(e){return e.datasetName},dimensions(e){return e.dimensions},tickDomain(e){return e.tickDomain},rectNumber(e){return e.rectNumber},defaultM(e){return e.defaultM},timeline(e){return e.timeline},cluster(e){return e.cluster},reach(e){return e.reach},contProj(e){return e.contProj}},mutations:{updateDataset(e,t){e.dataset=t.data,e.datasetName=t.datasetName,e.tickDomain=t.tickDomain,e.rectNumber=t.rectNumber,e.defaultM=t.defaultM,e.dimensions=Object.keys(t.data[0]).slice(t.dimFrom,t.dimTo)},updateTimeline(e,t){e.timeline=t},updateCluster(e,t){e.cluster=t},updateReach(e,t){e.reach=t},updateContProj(e,t){e.contProj=t}},actions:{async getTimeline(e){await F("./d3_timeline.csv").then(function(t){e.commit("updateTimeline",t)})},async getRightDataset(e){await F("./d3_data_right.csv").then(function(t){e.commit("updateDataset",{data:t,datasetName:"right",tickDomain:25,rectNumber:10,dimFrom:2,dimTo:11,defaultM:30})})},async getRightCluster(e){await F("./right_cluster.csv").then(function(t){e.commit("updateCluster",t)})},async getRightReach(e){await F("./right_reach.csv").then(function(t){e.commit("updateReach",t)})},async getRightContProj(e){await F("./right_contProj.csv").then(function(t){e.commit("updateContProj",t)})},async getLeftDataset(e){await F("./d3_data_left.csv").then(function(t){e.commit("updateDataset",{data:t,datasetName:"left",tickDomain:25,rectNumber:11,dimFrom:2,dimTo:11,defaultM:180})})},async getLeftCluster(e){await F("./left_cluster.csv").then(function(t){e.commit("updateCluster",t)})},async getLeftReach(e){await F("./left_reach.csv").then(function(t){e.commit("updateReach",t)})},async getLeftContProj(e){await F("./left_contProj.csv").then(function(t){e.commit("updateContProj",t)})},async getChangedDataset(e){await F("./d3_data_changed.csv").then(function(t){e.commit("updateDataset",{data:t,datasetName:"changed",tickDomain:25,rectNumber:11,dimFrom:2,dimTo:11,defaultM:40})})},async getChangedCluster(e){await F("./changed_cluster.csv").then(function(t){e.commit("updateCluster",t)})},async getChangedReach(e){await F("./changed_reach.csv").then(function(t){e.commit("updateReach",t)})},async getChangedContProj(e){await F("./changed_contProj.csv").then(function(t){e.commit("updateContProj",t)})},async getDriverDataset(e){await F("./d3_data_driver.csv").then(function(t){e.commit("updateDataset",{data:t,datasetName:"driver",tickDomain:5,rectNumber:11,dimFrom:1,dimTo:13,defaultM:160})})},async getDriverCluster(e){await F("./driver_cluster.csv").then(function(t){e.commit("updateCluster",t)})},async getDriverReach(e){await F("./driver_reach.csv").then(function(t){e.commit("updateReach",t)})},async getDriverContProj(e){await F("./driver_contProj.csv").then(function(t){e.commit("updateContProj",t)})}},modules:{}});const Pe=_t(Fe);Pe.use($e).use(ft).mount("#app");
